<!DOCTYPE HTML>

<html xmlns:th="https://www.thymeleaf.org">

<div th:include="emp-header"></div>

 

<body>

   <!-- Navbar -->

   <div th:include="emp-navigation"></div>

 

   <!-- Overlay effect when opening sidebar on small screens -->

   <div class="w3-overlay w3-hide-large" onclick="w3_close()" style="cursor:pointer" title="close side menu"

      id="myOverlay"></div>

   <!-- Main content: shift it to the right by 250 pixels when the sidebar is visible -->

   <div class="w3-main" style="margin-left:250px">

      <div class="w3-row w3-padding-64">

         <div class="w3-twothird w3-container">

 

            <span th:if="${reqHtml != ''}">

               <p th:text="${reqHtml}"></p>

            </span>

            <h1> Employee Information </h1>

            <!-- Search Input -->

   <div>

 

      <input type="text" id="employeeSearch" placeholder="Search by Name" onkeyup="searchEmployee()" size=50>

 

   </div>

            </br>

            <table border="1">
            

               <tr>
               
                 <td> <strong> Id</strong></td>
                  <td> <strong> Name </strong></td>
                  <td> <strong> Mobile no </strong></td>
                  <td> <strong> Email Id</strong></td>
                  <td> <strong> DOJ </strong></td>
                  <td> <strong> Project Name </strong></td>
                   <td> <strong> project allocation date </strong></td>
                   <td> <strong> work allocation days </strong></td>
                  <td> <strong> monthly Salary </strong></td>
                  <td> <strong> Work Type </strong></td>
                  <td> <strong> Update Profile </strong></td> <!-- Moved "Update Profile" to this column -->
                  <td> <strong> Delete Profile </strong></td>
                  <td> <strong> Comments </strong></td>

              </tr>
 
        <tr th:each="registration : ${registrations}">
        
        
         
         <td th:text="${registration.Id}"></td>
        <td th:text="${registration.firstName+registration.surname}"></td>
        <td th:text="${registration.primaryMobile}"></td>
         <td th:text="${registration.email}"></td>
        <td th:text="${registration.doj}"></td>
        <td th:text="${registration.projectName}"></td>
        <td th:text="${registration.projectAllocationDate}"></td>
        <td th:text="${registration.workAllocationDays}"></td>
        <td th:text="${registration.monthlySalary}"></td>
        <td th:text="${registration.workType}"></td>             

   
        <td><a th:href="@{'updateemployee?id=' + ${registration.id}}">Update</a></td>
        <td><a th:href="@{'deleteprofile?id=' + ${registration.id}}">Delete</a></td>

    </td>

    </tr>
    

    <script>
    function searchEmployee() {
        var input, filter, table, tr, td, i, txtValue;
        input = document.getElementById("employeeSearch");
        filter = input.value.toUpperCase();
        table = document.querySelector("table");
        tr = table.querySelectorAll("tr");

        for (i = 1; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[1];
            if (td) {
                txtValue = td.textContent || td.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                } else {
                    tr[i].style.display = "none";
                }
            }
        }
    }
</script>

            </table>
         </div>
      </div>
   </div>
</body>
</html>